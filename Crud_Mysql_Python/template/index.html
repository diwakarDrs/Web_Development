<!Doctype html>
<html>
   <head>
      <title>Flask CRUD Apllication</title>
      <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>
      <link href="{{url_for('static',filename='css/spider.png')}}" rel="shortcut icon"/>
   </head>
   <body>
      
      <div class="container">
      <!---------------------HEADER------------------>
		  <div class="well text-center">
			 <h1>Python Flask Web Application</h1>
		  </div>
      <!--------------------BODY---------------------->
		  <div class="container">
			  <div class="row">
					<div class="col-md-12">
						<h2>Student List <button type="button" class="btn btn-success  pull-right" 
						   data-toggle="modal" data-target="#myModal">Add Student Data</button></h2>
                     
                     <!--Flash Message-->
                     {%with messages = get_flashed_messages()%}
                        {%if messages%}
                           {%for message in messages%}
                           <div class="alert alert-success" role="alert">
                              <button type="button" class="close" data-dismiss="alert" aria-label="close">
                                 <span arial-hidden="true">x</span></button>
                              
                                 {{message}}
                              
                              </div>
                           {%endfor%}
                        {%endif%}
                     {%endwith%}     

                     
                     
                     <table class="table table-striped">
								<tr>
								   <th>Serial</th>
								   <th>Name</th>
								   <th>Email</th>
								   <th>Phone</th>
								   <th>Action</th>
                        </tr>
                        
                        {%for row in students%}
                           <tr>
                              <td>{{row.0}}</td>
                              <td>{{row.1}}</td>
                              <td>{{row.2}}</td>
                              <td>{{row.3}}</td>
                              <td>
                              <a href="/update/{{row.0}}" class="btn btn-primary btn-xs" data-toggle="modal" data-target = "#modaledit{{row.0}}">Edit</a>
                              <a href="/delete/{{row.0}}" class="btn btn-danger btn-xs" onclick="return confirm('Are you sure to delete?')">Delete</a>
                              </td>
                           </tr>

                                       <!--------- Modal For EDIT Data-------->
                           <div id="modaledit{{row.0}}" class="modal hide" role="dialog">
                              <div class="modal-dialog">
                                 <div class="modal-content">
                                    <div class="modal-header">
                                       <button type="button" class="close" data-dismiss="modal">&times;</button>
                                       <h4 class="modal-title">Please Update Data</h4>
                                    </div>
                                    <div class="modal-body">
                                       <form action="{{url_for('update')}}" method="POST">
                                          <div class="form-group">
                                             <label>Name:</label>
                                             <input type="hidden" name="id" value="{{row.0}}">
                                             <input type="text" class="form-control" name="name" value="{{row.1}}">
                                          </div>
                                          <div class="form-group">
                                             <label>Email:</label>
                                             <input type="text" class="form-control" name="email" value="{{row.2}}">
                                          </div>
                                          <div class="form-group">
                                             <label>Phone:</label>
                                             <input type="text" class="form-control" name="phone" value="{{row.3}}">
                                          </div>
                                          <div class="form-group">
                                             <button class="btn btn-primary" type="submit">Update Data</button>
                                          </div>
                                       </form>
                                    </div>
                                    <div class="modal-footer">
                                       <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                 </div>
                              </div>
                         </div>

                        {%endfor%}

							</table>
					</div>
				</div>
			</div>		

               <!--------- Modal For Insert Data-------->
               <div id="myModal" class="form-feed modal hide" role="dialog">
                  <div class="modal-dialog">
                     <div class="modal-content">
                        <div class="modal-header">
                           <button type="button" class="close" data-dismiss="modal">&times;</button>
                           <h4 class="modal-title">Please Insert Data</h4>
                        </div>
                        <div class="modal-body">
                           <form action="{{url_for('insert')}}" method="POST">
                              <div class="form-group">
                                 <label>Name:</label>
                                 <input type="text" class="form-control" name="name" required="1">
                              </div>
                              <div class="form-group">
                                 <label>Email:</label>
                                 <input type="text" class="form-control" name="email" required="1">
                              </div>
                              <div class="form-group">
                                 <label>Phone:</label>
                                 <input type="text" class="form-control" name="phone" required="1">
                              </div>
                              <div class="form-group">
                                 <button class="btn btn-primary" type="submit">Insert Data</button>
                              </div>
                           </form>
                        </div>
                        <div class="modal-footer">
                           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                     </div>
                  </div>
               </div>
            
         
         <!---------------------FOOTER------------------>
         <div class ="well">
            <h3>Website: www.raja.com
               <span class = "pull-right">Like us</span>
            </h3>
         </div>
    </div>
      
   </body>
   
   <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
</html>